<!-- showing error msg -->
<% if !flash[:message].nil? %>
  <div id="error_explanation">
    <h4>errors occurs when creating comment:</h4>
    <ul>
    <% flash[:message].each do |msg| %>
      <li><%= msg %></li>
    <% end %>
    </ul>
  </div>
<% end %>

<!--
  not sure why this can't work even though we had already attach error msg
  to @article? Check validation in comment's model!

  references: https://goo.gl/1Nm0SU
-->
<% if @article.errors.messages[:base].any? %>
  <div id="error_explanation">
    <h2>
      <%= pluralize(@article.errors.count, "error") %> prohibited
      this article from being saved:
    </h2>
    <ul>
      <% @article.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
    </ul>
  </div>
<% end %>


<%= form_for([@article, @article.comments.build]) do |f| %>
  <p>
    <%= f.label :commenter %><br>
    <%= f.text_field :commenter %>
  </p>
  <p>
    <%= f.label :body %><br>
    <%= f.text_field :body %>
  </p>
  <p>
    <%= f.file_field :attachment %>
  </p>
  <p>
    <%= f.submit %>
  </p>
<% end %>
